// canvas-long-shadow v2.0.1
// (c) 2015 Johannes WÃ¼ller <johanneswueller@gmail.com>
// https://github.com/jwueller/canvas-long-shadow
// MIT license
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.CanvasLongShadow=e()}}(function(){return function e(n,t,r){function a(o,s){if(!t[o]){if(!n[o]){var f="function"==typeof require&&require;if(!s&&f)return f(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[o]={exports:{}};n[o][0].call(c.exports,function(e){var t=n[o][1][e];return a(t?t:e)},c,c.exports,e,n,t,r)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,n,t){"use strict";n.exports={Renderer:e("./src/renderer"),Canvas:e("canvas-browserify")}},{"./src/renderer":3,"canvas-browserify":2}],2:[function(e,n,t){var r=n.exports=function(e,n){var t=document.createElement("canvas");return t.width=e||300,t.height=n||150,t};r.Image=function(){var e=document.createElement("img");return e}},{}],3:[function(e,n,t){"use strict";function r(e,n){var t=new l(e,n);return t.getContext("2d")}function a(e){return"number"==typeof e&&!isNaN(e)}function i(e){return"function"==typeof e}function o(e){return null!==e&&"undefined"!=typeof e}function s(e,n,t){function s(t,r){r?i(r)&&(r={shapeRenderer:r}):r={};var s=r.shapeRenderer||null;if(null===s)throw"missing shape renderer";var d=r.angleRad,h=r.angleDeg,g=o(d),m=o(h);if(g&&!a(d)||m&&!a(h))throw"invalid shadow angle";g||(m||(h=-45),d=Math.PI/180*h);var y=r.throwDistance;if(o(y)){if(!a(y))throw"invalid shadow throw distance"}else y=1/0;var b=r.fillStyle||"rgba(0,0,0,0.15)",x=i(b)?b:function(e){e.fillStyle=b},q=r.offsetX,C=r.offsetY;if(o(q)||(q=0),o(C)||(C=0),!a(q)||!a(C))throw new"invalid shadow offset";var R=e/2-q,I=n/2-C;f(v,function(e){e.scale(l,l),e.translate(R,I),s(e)}),u(w,v.canvas,d,y*l),c(p,w.canvas,function(e){e.translate(R,I),x(e,d)}),t.drawImage(p.canvas,-R,-I)}if(!o(e)||!o(n))throw"missing dimensions";if(!a(e)||1>e||!a(n)||1>n)throw"invalid dimensions";t=t||{};var l=t.quality;if(o(l)){if(!a(l)||0>=l)throw"invalid shadow quality";if(l>1)throw"shadow quality > 1 is a waste of computing power"}else l=1;var d=Math.max(1,e*l),h=Math.max(1,n*l),v=r(d,h),w=r(d,h),p=r(e,n);this.render=s,this.width=e,this.height=n,this.quality=l}function f(e,n){e.save(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.globalAlpha=1,e.fillStyle="#000",n(e),e.restore()}function u(e,n,t,r){var a=n.width,i=n.height,o=e.canvas.width,s=e.canvas.height;e.save(),e.clearRect(0,0,o,s),e.globalCompositeOperation="source-over";var f,u,c,l=Math.cos(t),d=-Math.sin(t);for(f=1;r>f&&(u=f*l,c=f*d,!(u>o||0>u+a||c>s||0>c+i));++f)e.drawImage(n,u,c);e.globalCompositeOperation="destination-out",e.drawImage(n,0,0),e.restore()}function c(e,n,t){var r=e.canvas.width,a=e.canvas.height;e.clearRect(0,0,r,a),e.save(),e.beginPath(),e.rect(0,0,r,a),t(e),e.fill(),e.restore(),e.save(),e.globalCompositeOperation="destination-in",e.drawImage(n,0,0,r,a),e.restore()}var l=e("canvas-browserify");n.exports=s},{"canvas-browserify":2}]},{},[1])(1)});